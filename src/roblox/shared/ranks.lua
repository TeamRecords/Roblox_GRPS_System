local R={}
function R.levelOf(rs,name) for _,r in ipairs(rs) do if r.name==name then return r.level end end end function R.findIndex(rs,name) for i,r in ipairs(rs) do if r.name==name then return i end end end function R.next(rs,name) local i=R.findIndex(rs,name) if not i then return nil end return rs[i+1] and rs[i+1].name or nil end function R.meetsThresholds(u,tr) if u.points<(tr.minPoints or 0) then return false,'points' end if u.timeInRankDays<(tr.minTimeDays or 0) then return false,'time' end if tr.requiredRecs and (u.recs or 0)<tr.requiredRecs then return false,'recs' end if tr.minConduct and (u.conductScore or 0)<tr.minConduct then return false,'conduct' end return true end return R
